# deregister-ami

## Description

Deregister ami.

- Assume that dev, stg and prd exist in target AWS-account.
- Assume that the ami-name contains service-tag-name and role-tag-name.

## Installation

```
bundle install
```

## Usage

```
DEV_ACCOUNT_ID=...
DEV_AWS_ACCESS_KEY_ID=...
DEV_AWS_SECRET_KEY_ID=...
DEV_AWS_DEFAULT_REGION=...

PRD_ACCOUNT_ID=...
PRD_AWS_ACCESS_KEY_ID=...
PRD_AWS_SECRET_KEY_ID=...
PRD_AWS_DEFAULT_REGION=...

STG_ACCOUNT_ID=...
STG_AWS_ACCESS_KEY_ID=...
STG_AWS_SECRET_KEY_ID=...
STG_AWS_DEFAULT_REGION=...
bundle exec ruby make_config.rb <Service_name> <Role_name>
bundle exec ruby deregister_ami.rb
```

